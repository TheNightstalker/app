{"ast":null,"code":"function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { objects, scout } from '../index';\nimport $ from 'jquery';\n/**\n * The {@link {@link SimpleTabBoxController}} is used to link a {@link {@link SimpleTabBox}} with a {@link {@link SimpleTabArea}}.\n * There are {@link {@link SimpleTabBox}} with more than one {@link {@link SimpleTabArea}} to actualized.\n * Therefore the linking is separated in a controller.\n * The controller basically listens to 'viewAdd', 'viewRemove', 'viewActivate', 'viewDeactivate' on the {@link {@link SimpleTabBox}} and\n * updates the {@link {@link SimpleTabArea}}.\n */\n\nvar SimpleTabBoxController = /*#__PURE__*/function () {\n  function SimpleTabBoxController(tabBox, tabArea) {\n    _classCallCheck(this, SimpleTabBoxController);\n\n    this.tabBox = null;\n    this._viewAddHandler = this._onViewAdd.bind(this);\n    this._viewRemoveHandler = this._onViewRemove.bind(this);\n    this._viewActivateHandler = this._onViewActivate.bind(this);\n    this._viewDeactivateHandler = this._onViewDeactivate.bind(this);\n    this.tabArea = null;\n    this._viewTabSelectHandler = this._onViewTabSelect.bind(this);\n  }\n\n  _createClass(SimpleTabBoxController, [{\n    key: \"init\",\n    value: function init(model) {\n      $.extend(this, model);\n    }\n  }, {\n    key: \"install\",\n    value: function install(tabBox, tabArea) {\n      this.uninstall();\n      this.tabBox = scout.assertParameter('tabBox', tabBox);\n      this.tabArea = scout.assertParameter('tabArea', tabArea || this.tabBox.tabArea);\n\n      this._installListeners();\n    }\n  }, {\n    key: \"uninstall\",\n    value: function uninstall() {\n      this._uninstallListeners();\n    }\n  }, {\n    key: \"_installListeners\",\n    value: function _installListeners() {\n      this.tabBox.on('viewAdd', this._viewAddHandler);\n      this.tabBox.on('viewRemove', this._viewRemoveHandler);\n      this.tabBox.on('viewActivate', this._viewActivateHandler);\n      this.tabBox.on('viewDeactivate', this._viewDeactivateHandler);\n      this.tabArea.on('tabSelect', this._viewTabSelectHandler);\n    }\n  }, {\n    key: \"_uninstallListeners\",\n    value: function _uninstallListeners() {\n      if (this.tabBox) {\n        this.tabBox.off('viewAdd', this._viewAddHandler);\n        this.tabBox.off('viewRemove', this._viewRemoveHandler);\n        this.tabBox.off('viewActivate', this._viewActivateHandler);\n        this.tabBox.off('viewDeactivate', this._viewDeactivateHandler);\n      }\n\n      if (this.tabArea) {\n        this.tabArea.off('tabSelect', this._viewTabSelectHandler);\n      }\n    }\n  }, {\n    key: \"_onViewAdd\",\n    value: function _onViewAdd(event) {\n      var view = event.view,\n          siblingView = event.siblingView,\n          viewTab,\n          // the sibling to insert the tab after.\n      siblingViewTab;\n\n      if (!SimpleTabBoxController.hasViewTab(view)) {\n        return;\n      }\n\n      viewTab = this._getTab(view);\n\n      if (!viewTab) {\n        siblingViewTab = this._getTab(siblingView);\n        viewTab = this._createTab(view);\n        this.tabArea.addTab(viewTab, siblingViewTab);\n      }\n    }\n  }, {\n    key: \"_onViewRemove\",\n    value: function _onViewRemove(event) {\n      var view = event.view;\n\n      if (!view) {\n        return;\n      }\n\n      var viewTab = this._getTab(view);\n\n      if (viewTab) {\n        this.tabArea.destroyTab(viewTab);\n      }\n    }\n  }, {\n    key: \"_onViewActivate\",\n    value: function _onViewActivate(event) {\n      var viewTab = this._getTab(event.view); // also reset selection if no view tab of the view is found.\n\n\n      this.tabArea.selectTab(viewTab);\n    }\n  }, {\n    key: \"_onViewDeactivate\",\n    value: function _onViewDeactivate(event) {\n      var viewTab = this._getTab(event.view); // also reset selection if no view tab of the view is found.\n\n\n      this.tabArea.deselectTab(viewTab);\n    }\n  }, {\n    key: \"_onViewTabSelect\",\n    value: function _onViewTabSelect(event) {\n      if (!event.viewTab) {\n        return;\n      }\n\n      var view = event.viewTab.view;\n      this.tabBox.activateView(view);\n    }\n  }, {\n    key: \"_createTab\",\n    value: function _createTab(view) {\n      return scout.create('SimpleTab', {\n        parent: this.tabArea,\n        view: view\n      });\n    }\n  }, {\n    key: \"_getTab\",\n    value: function _getTab(view) {\n      if (!view) {\n        return;\n      }\n\n      var viewTab = null;\n      this.tabArea.getTabs().some(function (tab) {\n        if (tab.view === view) {\n          viewTab = tab;\n          return true;\n        }\n\n        return false;\n      });\n      return viewTab;\n    }\n  }, {\n    key: \"getTabs\",\n    value: function getTabs() {\n      return this.tabArea.getTabs();\n    }\n    /* ----- static functions ----- */\n\n  }], [{\n    key: \"hasViewTab\",\n    value: function hasViewTab(view) {\n      return objects.someProperties(view, ['title', 'subTitle', 'iconId']);\n    }\n  }]);\n\n  return SimpleTabBoxController;\n}();\n\nexport { SimpleTabBoxController as default };","map":{"version":3,"sources":["C:/Tools/workspace/nightstalker/nightstalker.ui.html/node_modules/@eclipse-scout/core/src/tabbox/SimpleTabBoxController.js"],"names":["objects","scout","$","SimpleTabBoxController","tabBox","tabArea","_viewAddHandler","_onViewAdd","bind","_viewRemoveHandler","_onViewRemove","_viewActivateHandler","_onViewActivate","_viewDeactivateHandler","_onViewDeactivate","_viewTabSelectHandler","_onViewTabSelect","model","extend","uninstall","assertParameter","_installListeners","_uninstallListeners","on","off","event","view","siblingView","viewTab","siblingViewTab","hasViewTab","_getTab","_createTab","addTab","destroyTab","selectTab","deselectTab","activateView","create","parent","getTabs","some","tab","someProperties"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {objects, scout} from '../index';\nimport $ from 'jquery';\n\n/**\n * The {@link {@link SimpleTabBoxController}} is used to link a {@link {@link SimpleTabBox}} with a {@link {@link SimpleTabArea}}.\n * There are {@link {@link SimpleTabBox}} with more than one {@link {@link SimpleTabArea}} to actualized.\n * Therefore the linking is separated in a controller.\n * The controller basically listens to 'viewAdd', 'viewRemove', 'viewActivate', 'viewDeactivate' on the {@link {@link SimpleTabBox}} and\n * updates the {@link {@link SimpleTabArea}}.\n */\nexport default class SimpleTabBoxController {\n  constructor(tabBox, tabArea) {\n    this.tabBox = null;\n    this._viewAddHandler = this._onViewAdd.bind(this);\n    this._viewRemoveHandler = this._onViewRemove.bind(this);\n    this._viewActivateHandler = this._onViewActivate.bind(this);\n    this._viewDeactivateHandler = this._onViewDeactivate.bind(this);\n\n    this.tabArea = null;\n    this._viewTabSelectHandler = this._onViewTabSelect.bind(this);\n  }\n\n  init(model) {\n    $.extend(this, model);\n  }\n\n  install(tabBox, tabArea) {\n    this.uninstall();\n    this.tabBox = scout.assertParameter('tabBox', tabBox);\n    this.tabArea = scout.assertParameter('tabArea', tabArea || this.tabBox.tabArea);\n    this._installListeners();\n  }\n\n  uninstall() {\n    this._uninstallListeners();\n  }\n\n  _installListeners() {\n    this.tabBox.on('viewAdd', this._viewAddHandler);\n    this.tabBox.on('viewRemove', this._viewRemoveHandler);\n    this.tabBox.on('viewActivate', this._viewActivateHandler);\n    this.tabBox.on('viewDeactivate', this._viewDeactivateHandler);\n    this.tabArea.on('tabSelect', this._viewTabSelectHandler);\n  }\n\n  _uninstallListeners() {\n    if (this.tabBox) {\n      this.tabBox.off('viewAdd', this._viewAddHandler);\n      this.tabBox.off('viewRemove', this._viewRemoveHandler);\n      this.tabBox.off('viewActivate', this._viewActivateHandler);\n      this.tabBox.off('viewDeactivate', this._viewDeactivateHandler);\n    }\n    if (this.tabArea) {\n      this.tabArea.off('tabSelect', this._viewTabSelectHandler);\n    }\n  }\n\n  _onViewAdd(event) {\n    var view = event.view,\n      siblingView = event.siblingView,\n      viewTab,\n      // the sibling to insert the tab after.\n      siblingViewTab;\n\n    if (!SimpleTabBoxController.hasViewTab(view)) {\n      return;\n    }\n    viewTab = this._getTab(view);\n    if (!viewTab) {\n      siblingViewTab = this._getTab(siblingView);\n      viewTab = this._createTab(view);\n      this.tabArea.addTab(viewTab, siblingViewTab);\n    }\n  }\n\n  _onViewRemove(event) {\n    var view = event.view;\n    if (!view) {\n      return;\n    }\n    var viewTab = this._getTab(view);\n    if (viewTab) {\n      this.tabArea.destroyTab(viewTab);\n    }\n  }\n\n  _onViewActivate(event) {\n    var viewTab = this._getTab(event.view);\n    // also reset selection if no view tab of the view is found.\n    this.tabArea.selectTab(viewTab);\n  }\n\n  _onViewDeactivate(event) {\n    var viewTab = this._getTab(event.view);\n    // also reset selection if no view tab of the view is found.\n    this.tabArea.deselectTab(viewTab);\n  }\n\n  _onViewTabSelect(event) {\n    if (!event.viewTab) {\n      return;\n    }\n    var view = event.viewTab.view;\n    this.tabBox.activateView(view);\n  }\n\n  _createTab(view) {\n    return scout.create('SimpleTab', {\n      parent: this.tabArea,\n      view: view\n    });\n  }\n\n  _getTab(view) {\n    if (!view) {\n      return;\n    }\n    var viewTab = null;\n    this.tabArea.getTabs().some(function(tab) {\n      if (tab.view === view) {\n        viewTab = tab;\n        return true;\n      }\n      return false;\n    });\n    return viewTab;\n  }\n\n  getTabs() {\n    return this.tabArea.getTabs();\n  }\n\n  /* ----- static functions ----- */\n\n  static hasViewTab(view) {\n    return objects.someProperties(view, ['title', 'subTitle', 'iconId']);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}