{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { AbstractLayout, graphics } from '../index';\nimport $ from 'jquery';\n\nvar TableFooterLayout = /*#__PURE__*/function (_AbstractLayout) {\n  _inherits(TableFooterLayout, _AbstractLayout);\n\n  var _super = _createSuper(TableFooterLayout);\n\n  function TableFooterLayout(tableFooter) {\n    var _this;\n\n    _classCallCheck(this, TableFooterLayout);\n\n    _this = _super.call(this);\n    _this._tableFooter = tableFooter;\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  _createClass(TableFooterLayout, [{\n    key: \"layout\",\n    value: function layout($container) {\n      var contentFits,\n          controlsWidth,\n          infoWidth,\n          $controls = this._tableFooter._$controls,\n          $info = this._tableFooter._$info,\n          $infoItems = $info.find('.table-info-item'),\n          containerWidth = graphics.size($container).width;\n      controlsWidth = graphics.size($controls, true).width;\n      infoWidth = graphics.size($info).width; // Remove width to make sure elements are as width as they want to be\n\n      $infoItems.each(function () {\n        var $item = $(this); // Do not touch items which are being hidden to make sure they can properly animate width to 0\n\n        if ($item.isVisible() && !$item.data('hiding')) {\n          $item.data('oldWidth', $item.outerWidth());\n          $item.css('width', 'auto');\n        }\n      });\n      $info.css('max-width', ''); // Always try to use max space first\n\n      if (this._tableFooter._compactStyle) {\n        this._tableFooter._compactStyle = false;\n\n        this._tableFooter._renderInfo();\n      }\n\n      infoWidth = graphics.size($info).width;\n\n      if (controlsWidth + infoWidth <= containerWidth) {\n        // Make sure table info tooltip is not shown anymore (only available in compact style)\n        if (this._tableFooter._tableInfoTooltip) {\n          this._tableFooter._tableInfoTooltip.destroy();\n        }\n\n        contentFits = true;\n      }\n\n      if (!contentFits) {\n        // If elements don't fit, try to minimize table-info\n        this._tableFooter._compactStyle = true;\n\n        this._tableFooter._renderInfo();\n\n        infoWidth = graphics.size($info).width;\n\n        if (controlsWidth + infoWidth <= containerWidth) {\n          contentFits = true;\n        } // Make sure info section does not overlap controls\n\n\n        $info.css('max-width', Math.max(containerWidth - controlsWidth, 0));\n      } // don't animate on the first layouting -> only animate on user interactions\n\n\n      var animated = this._tableFooter.htmlComp.layouted;\n\n      this._setInfoItemsSize($infoItems, animated);\n\n      if (this._tableFooter._tableStatusTooltip && this._tableFooter._tableStatusTooltip.rendered) {\n        this._tableFooter._tableStatusTooltip.position();\n      }\n\n      if (this._tableFooter._tableInfoTooltip && this._tableFooter._tableInfoTooltip.rendered) {\n        this._tableFooter._tableInfoTooltip.position();\n      } // Let table controls update their content according to the new footer size\n\n\n      this._tableFooter.table.tableControls.forEach(function (control) {\n        control.revalidateLayout();\n      });\n    }\n  }, {\n    key: \"_setInfoItemsSize\",\n    value: function _setInfoItemsSize($infoItems, animated) {\n      $infoItems.each(function () {\n        var $item = $(this);\n\n        if ($item.isVisible() && !$item.data('hiding')) {\n          // Make sure complete function of already scheduled animation will be executed\n          var existingComplete = $item.data('animationComplete');\n\n          if (animated) {\n            $item.stop().cssWidthAnimated($item.data('oldWidth'), $item.outerWidth(), {\n              complete: existingComplete\n            });\n            $item.removeData('oldWidth');\n          } else {\n            $item.cssWidth($item.outerWidth());\n          }\n        }\n      });\n    }\n  }]);\n\n  return TableFooterLayout;\n}(AbstractLayout);\n\nexport { TableFooterLayout as default };","map":{"version":3,"sources":["C:/Tools/workspace/nightstalker/nightstalker.ui.html/node_modules/@eclipse-scout/core/src/table/TableFooterLayout.js"],"names":["AbstractLayout","graphics","$","TableFooterLayout","tableFooter","_tableFooter","$container","contentFits","controlsWidth","infoWidth","$controls","_$controls","$info","_$info","$infoItems","find","containerWidth","size","width","each","$item","isVisible","data","outerWidth","css","_compactStyle","_renderInfo","_tableInfoTooltip","destroy","Math","max","animated","htmlComp","layouted","_setInfoItemsSize","_tableStatusTooltip","rendered","position","table","tableControls","forEach","control","revalidateLayout","existingComplete","stop","cssWidthAnimated","complete","removeData","cssWidth"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {AbstractLayout, graphics} from '../index';\nimport $ from 'jquery';\n\nexport default class TableFooterLayout extends AbstractLayout {\n\n  constructor(tableFooter) {\n    super();\n    this._tableFooter = tableFooter;\n  }\n\n  /**\n   * @override\n   */\n  layout($container) {\n    var contentFits, controlsWidth, infoWidth,\n      $controls = this._tableFooter._$controls,\n      $info = this._tableFooter._$info,\n      $infoItems = $info.find('.table-info-item'),\n      containerWidth = graphics.size($container).width;\n\n    controlsWidth = graphics.size($controls, true).width;\n    infoWidth = graphics.size($info).width;\n\n    // Remove width to make sure elements are as width as they want to be\n    $infoItems.each(function() {\n      var $item = $(this);\n      // Do not touch items which are being hidden to make sure they can properly animate width to 0\n      if ($item.isVisible() && !$item.data('hiding')) {\n        $item.data('oldWidth', $item.outerWidth());\n        $item.css('width', 'auto');\n      }\n    });\n    $info.css('max-width', '');\n\n    // Always try to use max space first\n    if (this._tableFooter._compactStyle) {\n      this._tableFooter._compactStyle = false;\n      this._tableFooter._renderInfo();\n    }\n    infoWidth = graphics.size($info).width;\n    if (controlsWidth + infoWidth <= containerWidth) {\n      // Make sure table info tooltip is not shown anymore (only available in compact style)\n      if (this._tableFooter._tableInfoTooltip) {\n        this._tableFooter._tableInfoTooltip.destroy();\n      }\n      contentFits = true;\n    }\n\n    if (!contentFits) {\n      // If elements don't fit, try to minimize table-info\n      this._tableFooter._compactStyle = true;\n      this._tableFooter._renderInfo();\n\n      infoWidth = graphics.size($info).width;\n      if (controlsWidth + infoWidth <= containerWidth) {\n        contentFits = true;\n      }\n      // Make sure info section does not overlap controls\n      $info.css('max-width', Math.max(containerWidth - controlsWidth, 0));\n    }\n\n    // don't animate on the first layouting -> only animate on user interactions\n    var animated = this._tableFooter.htmlComp.layouted;\n    this._setInfoItemsSize($infoItems, animated);\n\n    if (this._tableFooter._tableStatusTooltip && this._tableFooter._tableStatusTooltip.rendered) {\n      this._tableFooter._tableStatusTooltip.position();\n    }\n    if (this._tableFooter._tableInfoTooltip && this._tableFooter._tableInfoTooltip.rendered) {\n      this._tableFooter._tableInfoTooltip.position();\n    }\n\n    // Let table controls update their content according to the new footer size\n    this._tableFooter.table.tableControls.forEach(function(control) {\n      control.revalidateLayout();\n    });\n  }\n\n  _setInfoItemsSize($infoItems, animated) {\n    $infoItems.each(function() {\n      var $item = $(this);\n      if ($item.isVisible() && !$item.data('hiding')) {\n        // Make sure complete function of already scheduled animation will be executed\n        var existingComplete = $item.data('animationComplete');\n        if (animated) {\n          $item.stop().cssWidthAnimated($item.data('oldWidth'), $item.outerWidth(), {\n            complete: existingComplete\n          });\n          $item.removeData('oldWidth');\n        } else {\n          $item.cssWidth($item.outerWidth());\n        }\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}