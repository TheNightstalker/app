{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/*\n * Copyright (c) 2014-2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { AbstractLayout, Dimension, HtmlComponent, scout } from '../index';\nimport $ from 'jquery';\n\nvar ColumnLayout = /*#__PURE__*/function (_AbstractLayout) {\n  _inherits(ColumnLayout, _AbstractLayout);\n\n  var _super = _createSuper(ColumnLayout);\n\n  function ColumnLayout(options) {\n    var _this;\n\n    _classCallCheck(this, ColumnLayout);\n\n    _this = _super.call(this);\n    options = options || {};\n    _this.stretch = scout.nvl(options.stretch, true);\n    _this.useCssWidth = scout.nvl(options.useCssWidth, false); // ColumnLayout = each child element represents a column\n    // +------+---+------+\n    // |      |   |      |\n    // +------+---+------+\n\n    return _this;\n  }\n\n  _createClass(ColumnLayout, [{\n    key: \"layout\",\n    value: function layout($container) {\n      var htmlComp = HtmlComponent.get($container);\n      var containerSize = htmlComp.availableSize().subtract(htmlComp.insets());\n      $container.children().each(function (i, elem) {\n        var $elem = $(elem);\n        var htmlChild = HtmlComponent.optGet($elem);\n\n        if (!htmlChild || !$elem.isVisible()) {\n          return;\n        }\n\n        var childPrefSize = htmlChild.prefSize({\n          useCssSize: true\n        });\n\n        if (this.stretch) {\n          // All elements in a column layout have the same height which is the height of the container\n          childPrefSize.height = containerSize.height - htmlChild.margins().vertical();\n        } // Use layout data width if set\n\n\n        if (htmlChild.layoutData && htmlChild.layoutData.widthHint) {\n          childPrefSize.width = htmlChild.layoutData.widthHint;\n        }\n\n        if (this.useCssWidth) {\n          htmlChild.$comp.cssHeight(childPrefSize.height);\n          htmlChild.revalidateLayout();\n        } else {\n          htmlChild.setSize(childPrefSize);\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"preferredLayoutSize\",\n    value: function preferredLayoutSize($container, options) {\n      var prefSize = new Dimension(),\n          htmlContainer = HtmlComponent.get($container),\n          childOptions = {\n        useCssSize: true\n      };\n      $container.children().each(function (i, elem) {\n        var $elem = $(elem);\n        var htmlChild = HtmlComponent.optGet($elem);\n\n        if (!htmlChild || !$elem.isVisible()) {\n          return;\n        }\n\n        var childPrefSize = htmlChild.prefSize(childOptions); // Use layout data width if set\n\n        if (htmlChild.layoutData && htmlChild.layoutData.widthHint) {\n          childPrefSize.width = htmlChild.layoutData.widthHint;\n        }\n\n        childPrefSize = childPrefSize.add(htmlChild.margins());\n        prefSize.width = prefSize.width + childPrefSize.width;\n        prefSize.height = Math.max(prefSize.height, childPrefSize.height);\n      });\n      prefSize = prefSize.add(htmlContainer.insets());\n      return prefSize;\n    }\n  }]);\n\n  return ColumnLayout;\n}(AbstractLayout);\n\nexport { ColumnLayout as default };","map":{"version":3,"sources":["C:/Tools/workspace/nightstalker/nightstalker.ui.html/node_modules/@eclipse-scout/core/src/layout/ColumnLayout.js"],"names":["AbstractLayout","Dimension","HtmlComponent","scout","$","ColumnLayout","options","stretch","nvl","useCssWidth","$container","htmlComp","get","containerSize","availableSize","subtract","insets","children","each","i","elem","$elem","htmlChild","optGet","isVisible","childPrefSize","prefSize","useCssSize","height","margins","vertical","layoutData","widthHint","width","$comp","cssHeight","revalidateLayout","setSize","bind","htmlContainer","childOptions","add","Math","max"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2014-2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {AbstractLayout, Dimension, HtmlComponent, scout} from '../index';\nimport $ from 'jquery';\n\nexport default class ColumnLayout extends AbstractLayout {\n\n  constructor(options) {\n    super();\n    options = options || {};\n    this.stretch = scout.nvl(options.stretch, true);\n    this.useCssWidth = scout.nvl(options.useCssWidth, false);\n\n    // ColumnLayout = each child element represents a column\n    // +------+---+------+\n    // |      |   |      |\n    // +------+---+------+\n  }\n\n  layout($container) {\n    var htmlComp = HtmlComponent.get($container);\n    var containerSize = htmlComp.availableSize()\n      .subtract(htmlComp.insets());\n\n    $container.children().each(function(i, elem) {\n      var $elem = $(elem);\n      var htmlChild = HtmlComponent.optGet($elem);\n      if (!htmlChild || !$elem.isVisible()) {\n        return;\n      }\n\n      var childPrefSize = htmlChild.prefSize({\n        useCssSize: true\n      });\n\n      if (this.stretch) {\n        // All elements in a column layout have the same height which is the height of the container\n        childPrefSize.height = containerSize.height - htmlChild.margins().vertical();\n      }\n\n      // Use layout data width if set\n      if (htmlChild.layoutData && htmlChild.layoutData.widthHint) {\n        childPrefSize.width = htmlChild.layoutData.widthHint;\n      }\n      if (this.useCssWidth) {\n        htmlChild.$comp.cssHeight(childPrefSize.height);\n        htmlChild.revalidateLayout();\n      } else {\n        htmlChild.setSize(childPrefSize);\n      }\n    }.bind(this));\n  }\n\n  preferredLayoutSize($container, options) {\n    var prefSize = new Dimension(),\n      htmlContainer = HtmlComponent.get($container),\n      childOptions = {\n        useCssSize: true\n      };\n\n    $container.children().each(function(i, elem) {\n      var $elem = $(elem);\n      var htmlChild = HtmlComponent.optGet($elem);\n      if (!htmlChild || !$elem.isVisible()) {\n        return;\n      }\n\n      var childPrefSize = htmlChild.prefSize(childOptions);\n      // Use layout data width if set\n      if (htmlChild.layoutData && htmlChild.layoutData.widthHint) {\n        childPrefSize.width = htmlChild.layoutData.widthHint;\n      }\n      childPrefSize = childPrefSize.add(htmlChild.margins());\n      prefSize.width = prefSize.width + childPrefSize.width;\n      prefSize.height = Math.max(prefSize.height, childPrefSize.height);\n    });\n\n    prefSize = prefSize.add(htmlContainer.insets());\n    return prefSize;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}