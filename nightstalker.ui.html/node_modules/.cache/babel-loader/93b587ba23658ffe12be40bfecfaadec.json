{"ast":null,"code":"/*\n * Copyright (c) 2014-2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { Device, TooltipSupport } from '../index';\nimport $ from 'jquery';\nvar DEFAULT_TOOLTIP_DELAY = 600; // ms\n// Quite long tooltip delay for cases where the normal delay would be annoying\n\nvar LONG_TOOLTIP_DELAY = 2000; // ms\n\nexport function install($comp, options) {\n  var support = $comp.data('tooltipSupport');\n\n  if (!support) {\n    support = new TooltipSupport(options);\n    support.install($comp);\n  } else {\n    support.update($comp, options);\n  }\n}\nexport function uninstall($comp) {\n  var support = $comp.data('tooltipSupport');\n\n  if (support) {\n    support.uninstall($comp);\n  }\n}\n/**\n * If the tooltip is currently showing, its contents are updated immediately.\n * Otherwise, nothing happens.\n */\n\nexport function update($comp, options) {\n  var support = $comp.data('tooltipSupport');\n\n  if (support) {\n    support.update($comp, options);\n  }\n}\nexport function close($comp) {\n  var support = $comp.data('tooltipSupport');\n\n  if (support) {\n    support.close();\n  }\n}\n/**\n * Cancels the scheduled task to show the tooltip.\n */\n\nexport function cancel($comp) {\n  var support = $comp.data('tooltipSupport');\n\n  if (support) {\n    support.cancel($comp);\n  }\n}\n/**\n * Convenient function to install tooltip support for ellipsis only.\n */\n\nexport function installForEllipsis($comp, options) {\n  var defaultOptions = {\n    text: function text($label) {\n      if ($label.isContentTruncated()) {\n        return $label.text();\n      }\n    },\n    nativeTooltip: !Device.get().isCustomEllipsisTooltipPossible()\n  };\n  options = $.extend({}, defaultOptions, options);\n  install($comp, options);\n}\n/**\n * Finds every tooltip whose $anchor belongs to $context.\n */\n\nexport function find($context) {\n  var $tooltips,\n      i,\n      tooltip,\n      tooltips = [];\n  $tooltips = $('.tooltip', $context.document(true));\n\n  for (i = 0; i < $tooltips.length; i++) {\n    tooltip = $tooltips.eq(i).data('tooltip');\n\n    if ($context.has(tooltip.$anchor).length > 0) {\n      tooltips.push(tooltip);\n    }\n  }\n\n  return tooltips;\n}\nexport default {\n  DEFAULT_TOOLTIP_DELAY: DEFAULT_TOOLTIP_DELAY,\n  LONG_TOOLTIP_DELAY: LONG_TOOLTIP_DELAY,\n  cancel: cancel,\n  close: close,\n  find: find,\n  install: install,\n  installForEllipsis: installForEllipsis,\n  uninstall: uninstall,\n  update: update\n};","map":{"version":3,"sources":["C:/Tools/workspace/nightstalker/nightstalker.ui.html/node_modules/@eclipse-scout/core/src/tooltip/tooltips.js"],"names":["Device","TooltipSupport","$","DEFAULT_TOOLTIP_DELAY","LONG_TOOLTIP_DELAY","install","$comp","options","support","data","update","uninstall","close","cancel","installForEllipsis","defaultOptions","text","$label","isContentTruncated","nativeTooltip","get","isCustomEllipsisTooltipPossible","extend","find","$context","$tooltips","i","tooltip","tooltips","document","length","eq","has","$anchor","push"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,MAAR,EAAgBC,cAAhB,QAAqC,UAArC;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,IAAMC,qBAAqB,GAAG,GAA9B,C,CAAmC;AAEnC;;AACA,IAAMC,kBAAkB,GAAG,IAA3B,C,CAAiC;;AAEjC,OAAO,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,OAAxB,EAAiC;AACtC,MAAIC,OAAO,GAAGF,KAAK,CAACG,IAAN,CAAW,gBAAX,CAAd;;AACA,MAAI,CAACD,OAAL,EAAc;AACZA,IAAAA,OAAO,GAAG,IAAIP,cAAJ,CAAmBM,OAAnB,CAAV;AACAC,IAAAA,OAAO,CAACH,OAAR,CAAgBC,KAAhB;AACD,GAHD,MAGO;AACLE,IAAAA,OAAO,CAACE,MAAR,CAAeJ,KAAf,EAAsBC,OAAtB;AACD;AACF;AAED,OAAO,SAASI,SAAT,CAAmBL,KAAnB,EAA0B;AAC/B,MAAIE,OAAO,GAAGF,KAAK,CAACG,IAAN,CAAW,gBAAX,CAAd;;AACA,MAAID,OAAJ,EAAa;AACXA,IAAAA,OAAO,CAACG,SAAR,CAAkBL,KAAlB;AACD;AACF;AAED;AACA;AACA;AACA;;AACA,OAAO,SAASI,MAAT,CAAgBJ,KAAhB,EAAuBC,OAAvB,EAAgC;AACrC,MAAIC,OAAO,GAAGF,KAAK,CAACG,IAAN,CAAW,gBAAX,CAAd;;AACA,MAAID,OAAJ,EAAa;AACXA,IAAAA,OAAO,CAACE,MAAR,CAAeJ,KAAf,EAAsBC,OAAtB;AACD;AACF;AAED,OAAO,SAASK,KAAT,CAAeN,KAAf,EAAsB;AAC3B,MAAIE,OAAO,GAAGF,KAAK,CAACG,IAAN,CAAW,gBAAX,CAAd;;AACA,MAAID,OAAJ,EAAa;AACXA,IAAAA,OAAO,CAACI,KAAR;AACD;AACF;AAED;AACA;AACA;;AACA,OAAO,SAASC,MAAT,CAAgBP,KAAhB,EAAuB;AAC5B,MAAIE,OAAO,GAAGF,KAAK,CAACG,IAAN,CAAW,gBAAX,CAAd;;AACA,MAAID,OAAJ,EAAa;AACXA,IAAAA,OAAO,CAACK,MAAR,CAAeP,KAAf;AACD;AACF;AAED;AACA;AACA;;AACA,OAAO,SAASQ,kBAAT,CAA4BR,KAA5B,EAAmCC,OAAnC,EAA4C;AACjD,MAAIQ,cAAc,GAAG;AACnBC,IAAAA,IAAI,EAAE,cAASC,MAAT,EAAiB;AACrB,UAAIA,MAAM,CAACC,kBAAP,EAAJ,EAAiC;AAC/B,eAAOD,MAAM,CAACD,IAAP,EAAP;AACD;AACF,KALkB;AAMnBG,IAAAA,aAAa,EAAE,CAACnB,MAAM,CAACoB,GAAP,GAAaC,+BAAb;AANG,GAArB;AAQAd,EAAAA,OAAO,GAAGL,CAAC,CAACoB,MAAF,CAAS,EAAT,EAAaP,cAAb,EAA6BR,OAA7B,CAAV;AACAF,EAAAA,OAAO,CAACC,KAAD,EAAQC,OAAR,CAAP;AACD;AAED;AACA;AACA;;AACA,OAAO,SAASgB,IAAT,CAAcC,QAAd,EAAwB;AAC7B,MAAIC,SAAJ;AAAA,MAAeC,CAAf;AAAA,MAAkBC,OAAlB;AAAA,MACEC,QAAQ,GAAG,EADb;AAEAH,EAAAA,SAAS,GAAGvB,CAAC,CAAC,UAAD,EAAasB,QAAQ,CAACK,QAAT,CAAkB,IAAlB,CAAb,CAAb;;AAEA,OAAKH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGD,SAAS,CAACK,MAA1B,EAAkCJ,CAAC,EAAnC,EAAuC;AACrCC,IAAAA,OAAO,GAAGF,SAAS,CAACM,EAAV,CAAaL,CAAb,EAAgBjB,IAAhB,CAAqB,SAArB,CAAV;;AACA,QAAIe,QAAQ,CAACQ,GAAT,CAAaL,OAAO,CAACM,OAArB,EAA8BH,MAA9B,GAAuC,CAA3C,EAA8C;AAC5CF,MAAAA,QAAQ,CAACM,IAAT,CAAcP,OAAd;AACD;AACF;;AACD,SAAOC,QAAP;AACD;AAED,eAAe;AACbzB,EAAAA,qBAAqB,EAArBA,qBADa;AAEbC,EAAAA,kBAAkB,EAAlBA,kBAFa;AAGbS,EAAAA,MAAM,EAANA,MAHa;AAIbD,EAAAA,KAAK,EAALA,KAJa;AAKbW,EAAAA,IAAI,EAAJA,IALa;AAMblB,EAAAA,OAAO,EAAPA,OANa;AAObS,EAAAA,kBAAkB,EAAlBA,kBAPa;AAQbH,EAAAA,SAAS,EAATA,SARa;AASbD,EAAAA,MAAM,EAANA;AATa,CAAf","sourcesContent":["/*\n * Copyright (c) 2014-2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {Device, TooltipSupport} from '../index';\nimport $ from 'jquery';\n\nconst DEFAULT_TOOLTIP_DELAY = 600; // ms\n\n// Quite long tooltip delay for cases where the normal delay would be annoying\nconst LONG_TOOLTIP_DELAY = 2000; // ms\n\nexport function install($comp, options) {\n  var support = $comp.data('tooltipSupport');\n  if (!support) {\n    support = new TooltipSupport(options);\n    support.install($comp);\n  } else {\n    support.update($comp, options);\n  }\n}\n\nexport function uninstall($comp) {\n  var support = $comp.data('tooltipSupport');\n  if (support) {\n    support.uninstall($comp);\n  }\n}\n\n/**\n * If the tooltip is currently showing, its contents are updated immediately.\n * Otherwise, nothing happens.\n */\nexport function update($comp, options) {\n  var support = $comp.data('tooltipSupport');\n  if (support) {\n    support.update($comp, options);\n  }\n}\n\nexport function close($comp) {\n  var support = $comp.data('tooltipSupport');\n  if (support) {\n    support.close();\n  }\n}\n\n/**\n * Cancels the scheduled task to show the tooltip.\n */\nexport function cancel($comp) {\n  var support = $comp.data('tooltipSupport');\n  if (support) {\n    support.cancel($comp);\n  }\n}\n\n/**\n * Convenient function to install tooltip support for ellipsis only.\n */\nexport function installForEllipsis($comp, options) {\n  var defaultOptions = {\n    text: function($label) {\n      if ($label.isContentTruncated()) {\n        return $label.text();\n      }\n    },\n    nativeTooltip: !Device.get().isCustomEllipsisTooltipPossible()\n  };\n  options = $.extend({}, defaultOptions, options);\n  install($comp, options);\n}\n\n/**\n * Finds every tooltip whose $anchor belongs to $context.\n */\nexport function find($context) {\n  var $tooltips, i, tooltip,\n    tooltips = [];\n  $tooltips = $('.tooltip', $context.document(true));\n\n  for (i = 0; i < $tooltips.length; i++) {\n    tooltip = $tooltips.eq(i).data('tooltip');\n    if ($context.has(tooltip.$anchor).length > 0) {\n      tooltips.push(tooltip);\n    }\n  }\n  return tooltips;\n}\n\nexport default {\n  DEFAULT_TOOLTIP_DELAY,\n  LONG_TOOLTIP_DELAY,\n  cancel,\n  close,\n  find,\n  install,\n  installForEllipsis,\n  uninstall,\n  update\n};\n"]},"metadata":{},"sourceType":"module"}