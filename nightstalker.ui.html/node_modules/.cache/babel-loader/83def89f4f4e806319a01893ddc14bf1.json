{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { AbstractLayout } from '../index';\n\nvar CalendarLayout = /*#__PURE__*/function (_AbstractLayout) {\n  _inherits(CalendarLayout, _AbstractLayout);\n\n  var _super = _createSuper(CalendarLayout);\n\n  function CalendarLayout(calendar) {\n    var _this;\n\n    _classCallCheck(this, CalendarLayout);\n\n    _this = _super.call(this);\n    _this.calendar = calendar;\n    _this.stacked = false;\n    _this.compacted = false;\n    return _this;\n  }\n\n  _createClass(CalendarLayout, [{\n    key: \"layout\",\n    value: function layout($container) {\n      var height = 0,\n          headerHeight = 0,\n          $yearContainer = this.calendar._yearPanel.$container,\n          $grids = this.calendar.$grids,\n          $header = this.calendar.$header;\n      height += $container.cssMarginTop() + $container.cssMarginBottom();\n      $container.css('height', 'calc(100% - ' + height + 'px)');\n      this.undoCompact();\n      this.undoStack();\n\n      if ($header[0].scrollWidth > $container.width()) {\n        this.stack();\n      }\n\n      if ($header[0].scrollWidth > $container.width()) {\n        this.compact();\n      }\n\n      headerHeight = $header.outerHeight(true);\n      $yearContainer.css('height', 'calc(100% - ' + (headerHeight + $yearContainer.cssMarginY()) + 'px)');\n      $grids.css('height', 'calc(100% - ' + (headerHeight + $grids.cssMarginY()) + 'px)');\n      this.calendar.layoutSize();\n      this.calendar.layoutYearPanel();\n    }\n  }, {\n    key: \"compact\",\n    value: function compact() {\n      if (this.compacted) {\n        return;\n      }\n\n      var $headerRow2 = this.calendar.$headerRow2;\n      this.calendar.$title.appendTo(this.calendar.$headerRow2);\n      $headerRow2.show();\n      this.compacted = true;\n    }\n  }, {\n    key: \"undoCompact\",\n    value: function undoCompact() {\n      if (!this.compacted) {\n        return;\n      }\n\n      var $headerRow2 = this.calendar.$headerRow2;\n      this.calendar.$title.insertBefore(this.calendar.$commands);\n      $headerRow2.hide();\n      this.compacted = false;\n    }\n  }, {\n    key: \"stack\",\n    value: function stack() {\n      if (this.stacked) {\n        return;\n      }\n\n      this.calendar.$commands.children('.calendar-mode').hide();\n      this.calendar.modesMenu.setVisible(true);\n      this.stacked = true;\n    }\n  }, {\n    key: \"undoStack\",\n    value: function undoStack() {\n      if (!this.stacked) {\n        return;\n      }\n\n      this.calendar.$commands.children('.calendar-mode').show();\n      this.calendar.modesMenu.setVisible(false);\n      this.stacked = false;\n    }\n  }]);\n\n  return CalendarLayout;\n}(AbstractLayout);\n\nexport { CalendarLayout as default };","map":{"version":3,"sources":["C:/Tools/workspace/nightstalker/nightstalker.ui.html/node_modules/@eclipse-scout/core/src/calendar/CalendarLayout.js"],"names":["AbstractLayout","CalendarLayout","calendar","stacked","compacted","$container","height","headerHeight","$yearContainer","_yearPanel","$grids","$header","cssMarginTop","cssMarginBottom","css","undoCompact","undoStack","scrollWidth","width","stack","compact","outerHeight","cssMarginY","layoutSize","layoutYearPanel","$headerRow2","$title","appendTo","show","insertBefore","$commands","hide","children","modesMenu","setVisible"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {AbstractLayout} from '../index';\n\nexport default class CalendarLayout extends AbstractLayout {\n\n  constructor(calendar) {\n    super();\n    this.calendar = calendar;\n    this.stacked = false;\n    this.compacted = false;\n  }\n\n  layout($container) {\n    var height = 0,\n      headerHeight = 0,\n      $yearContainer = this.calendar._yearPanel.$container,\n      $grids = this.calendar.$grids,\n      $header = this.calendar.$header;\n\n    height += $container.cssMarginTop() + $container.cssMarginBottom();\n    $container.css('height', 'calc(100% - ' + height + 'px)');\n\n    this.undoCompact();\n    this.undoStack();\n    if ($header[0].scrollWidth > $container.width()) {\n      this.stack();\n    }\n    if ($header[0].scrollWidth > $container.width()) {\n      this.compact();\n    }\n\n    headerHeight = $header.outerHeight(true);\n    $yearContainer.css('height', 'calc(100% - ' + (headerHeight + $yearContainer.cssMarginY()) + 'px)');\n    $grids.css('height', 'calc(100% - ' + (headerHeight + $grids.cssMarginY()) + 'px)');\n\n    this.calendar.layoutSize();\n    this.calendar.layoutYearPanel();\n  }\n\n  compact() {\n    if (this.compacted) {\n      return;\n    }\n    var $headerRow2 = this.calendar.$headerRow2;\n    this.calendar.$title.appendTo(this.calendar.$headerRow2);\n    $headerRow2.show();\n    this.compacted = true;\n  }\n\n  undoCompact() {\n    if (!this.compacted) {\n      return;\n    }\n    var $headerRow2 = this.calendar.$headerRow2;\n    this.calendar.$title.insertBefore(this.calendar.$commands);\n    $headerRow2.hide();\n    this.compacted = false;\n  }\n\n  stack() {\n    if (this.stacked) {\n      return;\n    }\n    this.calendar.$commands.children('.calendar-mode').hide();\n    this.calendar.modesMenu.setVisible(true);\n    this.stacked = true;\n  }\n\n  undoStack() {\n    if (!this.stacked) {\n      return;\n    }\n    this.calendar.$commands.children('.calendar-mode').show();\n    this.calendar.modesMenu.setVisible(false);\n    this.stacked = false;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}