{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { arrays, scout, SimpleTab } from '../../index';\n\nvar DesktopTab = /*#__PURE__*/function (_SimpleTab) {\n  _inherits(DesktopTab, _SimpleTab);\n\n  var _super = _createSuper(DesktopTab);\n\n  function DesktopTab() {\n    _classCallCheck(this, DesktopTab);\n\n    return _super.call(this);\n  }\n\n  _createClass(DesktopTab, [{\n    key: \"_render\",\n    value: function _render() {\n      _get(_getPrototypeOf(DesktopTab.prototype), \"_render\", this).call(this);\n\n      this.$container.addClass('desktop-tab');\n      this.$container.on('contextmenu', this._onContextMenu.bind(this));\n    }\n  }, {\n    key: \"_onContextMenu\",\n    value: function _onContextMenu(event) {\n      var menuCloseAllTabs = scout.create('Menu', {\n        parent: this,\n        text: this.session.text('ui.CloseAllTabs')\n      });\n      menuCloseAllTabs.on('action', this._onCloseAll.bind(this));\n      var menuCloseOtherTabs = scout.create('Menu', {\n        parent: this,\n        text: this.session.text('ui.CloseOtherTabs'),\n        enabled: this.parent.tabs.length > 1\n      });\n      menuCloseOtherTabs.on('action', this._onCloseOther.bind(this));\n      var popup = scout.create('ContextMenuPopup', {\n        parent: this,\n        menuItems: [menuCloseAllTabs, menuCloseOtherTabs],\n        cloneMenuItems: false,\n        location: {\n          x: event.pageX,\n          y: event.pageY\n        }\n      });\n      popup.open();\n    }\n  }, {\n    key: \"_onCloseAll\",\n    value: function _onCloseAll() {\n      var openViews = this.parent.tabs.map(function (desktopTab) {\n        return desktopTab.view;\n      });\n      this.session.desktop.cancelViews(openViews);\n    }\n  }, {\n    key: \"_onCloseOther\",\n    value: function _onCloseOther() {\n      var openViews = this.parent.tabs.map(function (desktopTab) {\n        return desktopTab.view;\n      });\n      arrays.remove(openViews, this.view);\n      this.session.desktop.cancelViews(openViews);\n    }\n  }]);\n\n  return DesktopTab;\n}(SimpleTab);\n\nexport { DesktopTab as default };","map":{"version":3,"sources":["C:/Tools/workspace/nightstalker/nightstalker.ui.html/node_modules/@eclipse-scout/core/src/desktop/desktoptab/DesktopTab.js"],"names":["arrays","scout","SimpleTab","DesktopTab","$container","addClass","on","_onContextMenu","bind","event","menuCloseAllTabs","create","parent","text","session","_onCloseAll","menuCloseOtherTabs","enabled","tabs","length","_onCloseOther","popup","menuItems","cloneMenuItems","location","x","pageX","y","pageY","open","openViews","map","desktopTab","view","desktop","cancelViews","remove"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,MAAR,EAAgBC,KAAhB,EAAuBC,SAAvB,QAAuC,aAAvC;;IAEqBC,U;;;;;AAEnB,wBAAc;AAAA;;AAAA;AAEb;;;;8BAES;AACR;;AACA,WAAKC,UAAL,CAAgBC,QAAhB,CAAyB,aAAzB;AACA,WAAKD,UAAL,CAAgBE,EAAhB,CAAmB,aAAnB,EAAkC,KAAKC,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAlC;AACD;;;mCAEcC,K,EAAO;AACpB,UAAIC,gBAAgB,GAAGT,KAAK,CAACU,MAAN,CAAa,MAAb,EAAqB;AAC1CC,QAAAA,MAAM,EAAE,IADkC;AAE1CC,QAAAA,IAAI,EAAE,KAAKC,OAAL,CAAaD,IAAb,CAAkB,iBAAlB;AAFoC,OAArB,CAAvB;AAIAH,MAAAA,gBAAgB,CAACJ,EAAjB,CAAoB,QAApB,EAA8B,KAAKS,WAAL,CAAiBP,IAAjB,CAAsB,IAAtB,CAA9B;AAEA,UAAIQ,kBAAkB,GAAGf,KAAK,CAACU,MAAN,CAAa,MAAb,EAAqB;AAC5CC,QAAAA,MAAM,EAAE,IADoC;AAE5CC,QAAAA,IAAI,EAAE,KAAKC,OAAL,CAAaD,IAAb,CAAkB,mBAAlB,CAFsC;AAG5CI,QAAAA,OAAO,EAAE,KAAKL,MAAL,CAAYM,IAAZ,CAAiBC,MAAjB,GAA0B;AAHS,OAArB,CAAzB;AAKAH,MAAAA,kBAAkB,CAACV,EAAnB,CAAsB,QAAtB,EAAgC,KAAKc,aAAL,CAAmBZ,IAAnB,CAAwB,IAAxB,CAAhC;AAEA,UAAIa,KAAK,GAAGpB,KAAK,CAACU,MAAN,CAAa,kBAAb,EAAiC;AAC3CC,QAAAA,MAAM,EAAE,IADmC;AAE3CU,QAAAA,SAAS,EAAE,CAACZ,gBAAD,EAAmBM,kBAAnB,CAFgC;AAG3CO,QAAAA,cAAc,EAAE,KAH2B;AAI3CC,QAAAA,QAAQ,EAAE;AACRC,UAAAA,CAAC,EAAEhB,KAAK,CAACiB,KADD;AAERC,UAAAA,CAAC,EAAElB,KAAK,CAACmB;AAFD;AAJiC,OAAjC,CAAZ;AASAP,MAAAA,KAAK,CAACQ,IAAN;AACD;;;kCAEa;AACZ,UAAIC,SAAS,GAAG,KAAKlB,MAAL,CAAYM,IAAZ,CAAiBa,GAAjB,CAAqB,UAASC,UAAT,EAAqB;AACxD,eAAOA,UAAU,CAACC,IAAlB;AACD,OAFe,CAAhB;AAGA,WAAKnB,OAAL,CAAaoB,OAAb,CAAqBC,WAArB,CAAiCL,SAAjC;AACD;;;oCAEe;AACd,UAAIA,SAAS,GAAG,KAAKlB,MAAL,CAAYM,IAAZ,CAAiBa,GAAjB,CAAqB,UAASC,UAAT,EAAqB;AACxD,eAAOA,UAAU,CAACC,IAAlB;AACD,OAFe,CAAhB;AAGAjC,MAAAA,MAAM,CAACoC,MAAP,CAAcN,SAAd,EAAyB,KAAKG,IAA9B;AACA,WAAKnB,OAAL,CAAaoB,OAAb,CAAqBC,WAArB,CAAiCL,SAAjC;AACD;;;;EAnDqC5B,S;;SAAnBC,U","sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {arrays, scout, SimpleTab} from '../../index';\n\nexport default class DesktopTab extends SimpleTab {\n\n  constructor() {\n    super();\n  }\n\n  _render() {\n    super._render();\n    this.$container.addClass('desktop-tab');\n    this.$container.on('contextmenu', this._onContextMenu.bind(this));\n  }\n\n  _onContextMenu(event) {\n    var menuCloseAllTabs = scout.create('Menu', {\n      parent: this,\n      text: this.session.text('ui.CloseAllTabs')\n    });\n    menuCloseAllTabs.on('action', this._onCloseAll.bind(this));\n\n    var menuCloseOtherTabs = scout.create('Menu', {\n      parent: this,\n      text: this.session.text('ui.CloseOtherTabs'),\n      enabled: this.parent.tabs.length > 1\n    });\n    menuCloseOtherTabs.on('action', this._onCloseOther.bind(this));\n\n    var popup = scout.create('ContextMenuPopup', {\n      parent: this,\n      menuItems: [menuCloseAllTabs, menuCloseOtherTabs],\n      cloneMenuItems: false,\n      location: {\n        x: event.pageX,\n        y: event.pageY\n      }\n    });\n    popup.open();\n  }\n\n  _onCloseAll() {\n    var openViews = this.parent.tabs.map(function(desktopTab) {\n      return desktopTab.view;\n    });\n    this.session.desktop.cancelViews(openViews);\n  }\n\n  _onCloseOther() {\n    var openViews = this.parent.tabs.map(function(desktopTab) {\n      return desktopTab.view;\n    });\n    arrays.remove(openViews, this.view);\n    this.session.desktop.cancelViews(openViews);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}